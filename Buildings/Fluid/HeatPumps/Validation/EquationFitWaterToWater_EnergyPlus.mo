within Buildings.Fluid.HeatPumps.Validation;
model EquationFitWaterToWater_EnergyPlus "Validation with EnergyPlus model"
 package Medium = Buildings.Media.Water "Medium model";

    parameter Data.EquationFitWaterToWater.EnergyPlus_HeatPump perEP
    "EnergyPlus HeatPump performance"
     annotation (Placement(transformation(extent={{92,22},{112,42}})));
    parameter Modelica.SIunits.MassFlowRate mEva_flow_nominal=perEP.mEva_flow_nominal
    "Evaporator nominal mass flow rate";
    parameter Modelica.SIunits.MassFlowRate mCon_flow_nominal=perEP.mCon_flow_nominal
    "Condenser nominal mass flow rate";
    parameter Modelica.Fluid.Types.Dynamics energyDynamics=Modelica.Fluid.Types.Dynamics.SteadyState
    "Type of energy balance: dynamic (3 initialization options) or steady state";
    parameter Modelica.Fluid.Types.Dynamics massDynamics=Modelica.Fluid.Types.Dynamics.SteadyState
    "Type of mass balance: dynamic (3 initialization options) or steady state";

    EquationFitWaterToWater heaPum(
      per=perEP,
      SF=1,
      redeclare package Medium1 = Medium,
      redeclare package Medium2 = Medium,
      allowFlowReversal1=true,
      allowFlowReversal2=true,
      m1_flow_nominal=1.89,
      m2_flow_nominal=1.89,
      show_T=true,
      dp1_nominal=200,
      dp2_nominal=200,
      tau1=30,
      tau2=30,
      homotopyInitialization=true,
    energyDynamics=Modelica.Fluid.Types.Dynamics.SteadyState,
    massDynamics=Modelica.Fluid.Types.Dynamics.SteadyState,
      T1_start=55 + 273.15,
      T2_start=12 + 273.15)
      "Water to Water HeatPump"
       annotation (Placement(transformation(extent={{32,-10},{52,10}})));
    Sources.MassFlowSource_T conPum(
      m_flow=mCon_flow_nominal,
      T=328.15,
      nPorts=1,
      use_T_in=true,
      redeclare package Medium = Medium)
      "Condenser water pump"
       annotation (Placement(transformation(extent={{13,-13},{-13,13}},rotation=180,
        origin={-41,83})));
    Sources.MassFlowSource_T evaPum(
      m_flow=mEva_flow_nominal,
      T=280.65,
      nPorts=1,
      use_T_in=true,
      redeclare package Medium = Medium)
      "Evaporator water pump"
       annotation (Placement(transformation(extent={{-12,-12},{12,12}},rotation=180,
        origin={88,-40})));
    Modelica.Fluid.Sources.FixedBoundary cooVol(
      redeclare package Medium = Medium,
      nPorts=1)
     "Volume for cooling load"
      annotation (Placement(transformation(extent={{-48,-92},{-28,-72}})));
    Modelica.Fluid.Sources.FixedBoundary heaVol(
      nPorts=1,
      redeclare package Medium = Medium)
     "Volume for heating load"
      annotation (Placement(transformation(extent={{118,74},{98,94}})));
    FixedResistances.PressureDrop res1(
      redeclare package Medium = Medium,
      m_flow_nominal=mCon_flow_nominal,
      dp_nominal=6000)
     "Flow resistance"
      annotation (Placement(transformation(extent={{64,74},{84,94}})));
    FixedResistances.PressureDrop res2(
      redeclare package Medium = Medium,
      m_flow_nominal=mEva_flow_nominal,
      dp_nominal=6000)
     "Flow resistance"
      annotation (Placement(transformation(extent={{10,-92},{-10,-72}})));
     Modelica.Blocks.Sources.TimeTable TConEnt(
        table=[0,327.92; 600,327.92; 1200,
        327.92; 1800,327.92; 2400,327.91; 3000,327.91; 3600,327.91; 4200,327.91;
        4800,327.9; 5400,327.9; 6000,327.9; 6600,327.9; 7200,327.89; 7800,327.89;
        8400,327.89; 9000,327.89; 9600,327.89; 10200,327.88; 10800,327.88; 11400,
        327.88; 12000,327.88; 12600,327.87; 13200,327.87; 13800,327.87; 14400,327.87;
        15000,327.87; 15600,327.86; 16200,327.86; 16800,327.86; 17400,327.86; 18000,
        327.86; 18600,327.85; 19200,327.85; 19800,327.85; 20400,327.85; 21000,327.85;
        21600,327.85; 22200,327.85; 22800,327.86; 23400,327.86; 24000,327.86; 24600,
        327.86; 25200,327.86; 25800,327.69; 26400,327.63; 27000,327.62; 27600,327.61;
        28200,327.63; 28800,327.63; 29400,327.76; 30000,327.89; 30600,327.95; 31200,
        327.97; 31800,327.98; 32400,327.99; 33000,328; 33600,328.01; 34200,328.01;
        34800,328.02; 35400,328.03; 36000,328.03; 36600,328.04; 37200,328.04; 37800,
        328.05; 38400,328.06; 39000,328.06; 39600,328.07; 40200,328.08; 40800,328.08;
        41400,328.09; 42000,328.09; 42600,328.1; 43200,328.11; 43800,328.11; 44400,
        328.11; 45000,328.11; 45600,328.11; 46200,328.12; 46800,328.12; 47400,328.13;
        48000,328.14; 48600,328.14; 49200,328.15; 49800,328.15; 50400,328.15; 51000,
        328.15; 51600,328.15; 52200,328.15; 52800,328.16; 53400,328.16; 54000,328.16;
        54600,328.16; 55200,328.16; 55800,328.16; 56400,328.16; 57000,328.16; 57600,
        328.16; 58200,328.16; 58800,328.16; 59400,328.16; 60000,328.17; 60600,328.17;
        61200,328.17; 61800,328.17; 62400,328.17; 63000,328.17; 63600,328.17; 64200,
        328.17; 64800,328.17; 65400,328.17; 66000,328.17; 66600,328.18; 67200,328.17;
        67800,328.16; 68400,328.14; 69000,328.12; 69600,328.11; 70200,328.1; 70800,
        328.09; 71400,328.09; 72000,328.08; 72600,328.08; 73200,328.07; 73800,328.07;
        74400,328.06; 75000,328.06; 75600,328.06; 76200,328.05; 76800,328.05; 77400,
        328.05; 78000,328.04; 78600,328.04; 79200,328.04; 79800,328.04; 80400,328.03;
        81000,328.03; 81600,328.03; 82200,328.03; 82800,328.02; 83400,328.02; 84000,
        328.02; 84600,328.02; 85200,328.02; 85800,328.01; 86400,286.39; 87000,286.39;
        87600,286.38; 88200,286.38; 88800,286.38; 89400,286.38; 90000,286.38; 90600,
        286.37; 91200,286.37; 91800,286.37; 92400,286.37; 93000,286.37; 93600,286.37;
        94200,286.36; 94800,286.36; 95400,286.36; 96000,286.36; 96600,286.36; 97200,
        286.36; 97800,286.36; 98400,286.35; 99000,286.35; 99600,286.35; 100200,286.35;
        100800,286.35; 101400,286.35; 102000,286.35; 102600,286.35; 103200,286.34;
        103800,286.34; 104400,286.34; 105000,286.34; 105600,286.34; 106200,286.34;
        106800,286.34; 107400,286.34; 108000,286.34; 108600,286.34; 109200,286.34;
        109800,286.33; 110400,286.33; 111000,286.33; 111600,286.32; 112200,286.27;
        112800,286.25; 113400,286.26; 114000,286.28; 114600,286.32; 115200,286.35;
        115800,286.38; 116400,286.4; 117000,286.42; 117600,286.44; 118200,286.45;
        118800,286.46; 119400,286.47; 120000,286.48; 120600,286.49; 121200,286.5;
        121800,286.51; 122400,286.51; 123000,286.52; 123600,286.53; 124200,286.53;
        124800,286.54; 125400,286.55; 126000,286.55; 126600,286.56; 127200,286.56;
        127800,286.57; 128400,286.57; 129000,286.58; 129600,286.58; 130200,286.59;
        130800,286.59; 131400,286.6; 132000,286.6; 132600,286.6; 133200,286.61;
        133800,286.61; 134400,286.62; 135000,286.62; 135600,286.63; 136200,286.63;
        136800,286.63; 137400,286.64; 138000,286.64; 138600,286.65; 139200,286.65;
        139800,286.65; 140400,286.66; 141000,286.66; 141600,286.66; 142200,286.67;
        142800,286.67; 143400,286.67; 144000,286.68; 144600,286.68; 145200,286.68;
        145800,286.69; 146400,286.69; 147000,286.69; 147600,286.7; 148200,286.74;
        148800,286.77; 149400,286.77; 150000,286.76; 150600,286.74; 151200,286.71;
        151800,286.69; 152400,286.67; 153000,286.65; 153600,286.64; 154200,286.62;
        154800,286.61; 155400,286.59; 156000,286.58; 156600,286.57; 157200,286.56;
        157800,286.55; 158400,286.54; 159000,286.54; 159600,286.53; 160200,286.52;
        160800,286.51; 161400,286.51; 162000,286.5; 162600,286.5; 163200,286.49;
        163800,286.49; 164400,286.48; 165000,286.48; 165600,286.47; 166200,286.47;
        166800,286.46; 167400,286.46; 168000,286.46; 168600,286.45; 169200,286.45;
        169800,286.45; 170400,286.44; 171000,286.44; 171600,286.44; 172200,286.44],
          offset=0)
        "EnergyPlus: entering  water temperature at the condenser"
         annotation (Placement(transformation(extent={{-110,68},{-90,88}})));
      Modelica.Blocks.Sources.TimeTable TEvaEnt(
        table=[0,286.104; 600,286.104; 1200,286.104; 1800,286.104; 2400,286.104; 3000,
        286.104; 3600,286.104; 4200,286.103; 4800,286.103; 5400,286.103; 6000,286.102;
        6600,286.102; 7200,286.102; 7800,286.101; 8400,286.101; 9000,286.1; 9600,
        286.1; 10200,286.099; 10800,286.099; 11400,286.098; 12000,286.098; 12600,
        286.097; 13200,286.097; 13800,286.096; 14400,286.095; 15000,286.095; 15600,
        286.094; 16200,286.093; 16800,286.093; 17400,286.092; 18000,286.091; 18600,
        286.091; 19200,286.09; 19800,286.089; 20400,286.089; 21000,286.088; 21600,
        286.087; 22200,286.086; 22800,286.086; 23400,286.085; 24000,286.084; 24600,
        286.083; 25200,286.083; 25800,286.087; 26400,286.097; 27000,286.1; 27600,
        286.097; 28200,286.09; 28800,286.082; 29400,286.073; 30000,286.062; 30600,
        286.05; 31200,286.042; 31800,286.04; 32400,286.043; 33000,286.048; 33600,
        286.053; 34200,286.058; 34800,286.062; 35400,286.066; 36000,286.07; 36600,
        286.074; 37200,286.077; 37800,286.08; 38400,286.083; 39000,286.086; 39600,
        286.088; 40200,286.091; 40800,286.093; 41400,286.096; 42000,286.099; 42600,
        286.101; 43200,286.104; 43800,286.106; 44400,286.109; 45000,286.111; 45600,
        286.114; 46200,286.116; 46800,286.118; 47400,286.12; 48000,286.122; 48600,
        286.124; 49200,286.126; 49800,286.128; 50400,286.13; 51000,286.133; 51600,
        286.135; 52200,286.137; 52800,286.14; 53400,286.142; 54000,286.143; 54600,
        286.145; 55200,286.147; 55800,286.148; 56400,286.15; 57000,286.151; 57600,
        286.153; 58200,286.154; 58800,286.155; 59400,286.156; 60000,286.158; 60600,
        286.159; 61200,286.16; 61800,286.161; 62400,286.162; 63000,286.163; 63600,
        286.164; 64200,286.165; 64800,286.166; 65400,286.167; 66000,286.168; 66600,
        286.168; 67200,286.169; 67800,286.17; 68400,286.171; 69000,286.172; 69600,
        286.173; 70200,286.175; 70800,286.176; 71400,286.176; 72000,286.176; 72600,
        286.176; 73200,286.175; 73800,286.174; 74400,286.174; 75000,286.173; 75600,
        286.172; 76200,286.172; 76800,286.171; 77400,286.17; 78000,286.169; 78600,
        286.169; 79200,286.168; 79800,286.167; 80400,286.166; 81000,286.166; 81600,
        286.165; 82200,286.164; 82800,286.163; 83400,286.163; 84000,286.162; 84600,
        286.161; 85200,286.161; 85800,286.16; 86400,279.822; 87000,279.822; 87600,
        279.822; 88200,279.822; 88800,279.822; 89400,279.822; 90000,279.822; 90600,
        279.822; 91200,279.822; 91800,279.822; 92400,279.822; 93000,279.822; 93600,
        279.822; 94200,279.822; 94800,279.822; 95400,279.822; 96000,279.822; 96600,
        279.822; 97200,279.822; 97800,279.822; 98400,279.822; 99000,279.822; 99600,
        279.822; 100200,279.822; 100800,279.822; 101400,279.822; 102000,279.822;
        102600,279.822; 103200,279.822; 103800,279.822; 104400,279.822; 105000,279.822;
        105600,279.822; 106200,279.822; 106800,279.822; 107400,279.822; 108000,279.822;
        108600,279.822; 109200,279.822; 109800,279.822; 110400,279.822; 111000,279.822;
        111600,280.287; 112200,280.572; 112800,280.648; 113400,280.662; 114000,280.607;
        114600,280.563; 115200,280.537; 115800,280.524; 116400,280.516; 117000,280.509;
        117600,280.505; 118200,280.502; 118800,280.5; 119400,280.499; 120000,280.499;
        120600,280.499; 121200,280.5; 121800,280.501; 122400,280.503; 123000,280.504;
        123600,280.506; 124200,280.508; 124800,280.511; 125400,280.513; 126000,280.516;
        126600,280.519; 127200,280.522; 127800,280.525; 128400,280.528; 129000,280.532;
        129600,280.535; 130200,280.538; 130800,280.541; 131400,280.544; 132000,280.547;
        132600,280.55; 133200,280.553; 133800,280.555; 134400,280.558; 135000,280.56;
        135600,280.563; 136200,280.565; 136800,280.567; 137400,280.57; 138000,280.572;
        138600,280.575; 139200,280.577; 139800,280.58; 140400,280.583; 141000,280.585;
        141600,280.588; 142200,280.59; 142800,280.593; 143400,280.595; 144000,280.598;
        144600,280.6; 145200,280.602; 145800,280.604; 146400,280.606; 147000,280.607;
        147600,280.365; 148200,280.068; 148800,279.933; 149400,279.872; 150000,279.844;
        150600,279.832; 151200,279.826; 151800,279.824; 152400,279.823; 153000,279.822;
        153600,279.822; 154200,279.822; 154800,279.822; 155400,279.822; 156000,279.822;
        156600,279.822; 157200,279.822; 157800,279.822; 158400,279.822; 159000,279.822;
        159600,279.822; 160200,279.822; 160800,279.822; 161400,279.822; 162000,279.822;
        162600,279.822; 163200,279.822; 163800,279.822; 164400,279.822; 165000,279.822;
        165600,279.822; 166200,279.822; 166800,279.822; 167400,279.822; 168000,279.822;
        168600,279.822; 169200,279.822; 169800,279.822; 170400,279.822; 171000,279.822;
        171600,279.822; 172200,279.822],
        offset=0,
        startTime=0)
        "EnergyPlus: entering water temperature at the evaporator"
         annotation (Placement(transformation(extent={{60,-90},{80,-70}})));
      Modelica.Blocks.Sources.TimeTable heaPumMod(table=[0,1; 600,1; 1200,1; 1800,
        1; 2400,1; 3000,1; 3600,1; 4200,1; 4800,1; 5400,1; 6000,1; 6600,1; 7200,
        1; 7800,1; 8400,1; 9000,1; 9600,1; 10200,1; 10800,1; 11400,1; 12000,1; 12600,
        1; 13200,1; 13800,1; 14400,1; 15000,1; 15600,1; 16200,1; 16800,1; 17400,
        1; 18000,1; 18600,1; 19200,1; 19800,1; 20400,1; 21000,1; 21600,1; 22200,
        1; 22800,1; 23400,1; 24000,1; 24600,1; 25200,1; 25800,1; 26400,1; 27000,
        1; 27600,1; 28200,1; 28800,1; 29400,1; 30000,1; 30600,1; 31200,1; 31800,
        1; 32400,0; 33000,0; 33600,0; 34200,0; 34800,0; 35400,0; 36000,0; 36600,
        0; 37200,0; 37800,0; 38400,0; 39000,0; 39600,0; 40200,0; 40800,0; 41400,
        0; 42000,0; 42600,0; 43200,0; 43800,0; 44400,0; 45000,0; 45600,0; 46200,
        0; 46800,0; 47400,0; 48000,0; 48600,0; 49200,0; 49800,0; 50400,0; 51000,
        0; 51600,0; 52200,0; 52800,0; 53400,0; 54000,0; 54600,0; 55200,0; 55800,
        0; 56400,0; 57000,0; 57600,0; 58200,0; 58800,0; 59400,0; 60000,0; 60600,
        0; 61200,0; 61800,0; 62400,0; 63000,0; 63600,0; 64200,0; 64800,0; 65400,
        0; 66000,0; 66600,0; 67200,0; 67800,0; 68400,0; 69000,0; 69600,0; 70200,
        0; 70800,0; 71400,0; 72000,0; 72600,0; 73200,0; 73800,0; 74400,0; 75000,
        0; 75600,0; 76200,0; 76800,0; 77400,0; 78000,0; 78600,0; 79200,0; 79800,
        0; 80400,0; 81000,0; 81600,0; 82200,0; 82800,0; 83400,0; 84000,0; 84600,
        0; 85200,0; 85800,0; 86400,0; 87000,0; 87600,0; 88200,0; 88800,0; 89400,
        0; 90000,0; 90600,0; 91200,0; 91800,0; 92400,0; 93000,0; 93600,0; 94200,
        0; 94800,0; 95400,0; 96000,0; 96600,0; 97200,0; 97800,0; 98400,0; 99000,
        0; 99600,0; 100200,0; 100800,0; 101400,0; 102000,0; 102600,0; 103200,0;
        103800,0; 104400,0; 105000,0; 105600,0; 106200,0; 106800,0; 107400,0; 108000,
        0; 108600,0; 109200,0; 109800,0; 110400,0; 111000,0; 111600,-1; 112200,-1;
        112800,-1; 113400,-1; 114000,-1; 114600,-1; 115200,-1; 115800,-1; 116400,
        -1; 117000,-1; 117600,-1; 118200,-1; 118800,-1; 119400,-1; 120000,-1; 120600,
        -1; 121200,-1; 121800,-1; 122400,-1; 123000,-1; 123600,-1; 124200,-1; 124800,
        -1; 125400,-1; 126000,-1; 126600,-1; 127200,-1; 127800,-1; 128400,-1; 129000,
        -1; 129600,-1; 130200,-1; 130800,-1; 131400,-1; 132000,-1; 132600,-1; 133200,
        -1; 133800,-1; 134400,-1; 135000,-1; 135600,-1; 136200,-1; 136800,-1; 137400,
        -1; 138000,-1; 138600,-1; 139200,-1; 139800,-1; 140400,-1; 141000,-1; 141600,
        -1; 142200,-1; 142800,-1; 143400,-1; 144000,-1; 144600,-1; 145200,-1; 145800,
        -1; 146400,-1; 147000,-1; 147600,-1; 148200,0; 148800,0; 149400,0; 150000,
        0; 150600,0; 151200,0; 151800,0; 152400,0; 153000,0; 153600,0; 154200,0;
        154800,0; 155400,0; 156000,0; 156600,0; 157200,0; 157800,0; 158400,0; 159000,
        0; 159600,0; 160200,0; 160800,0; 161400,0; 162000,0; 162600,0; 163200,0;
        163800,0; 164400,0; 165000,0; 165600,0; 166200,0; 166800,0; 167400,0; 168000,
        0; 168600,0; 169200,0; 169800,0; 170400,0; 171000,0; 171600,0; 172200,0])
        "EnergyPlus HeatPump mode control signal"
         annotation (Placement(transformation(extent={{-100,-10},{-80,10}})));
      Modelica.Blocks.Sources.TimeTable TConSet(table=[0,328.44; 600,328.44; 1200,
        328.45; 1800,328.45; 2400,328.45; 3000,328.45; 3600,328.46; 4200,328.46;
        4800,328.46; 5400,328.47; 6000,328.47; 6600,328.47; 7200,328.48; 7800,328.48;
        8400,328.48; 9000,328.48; 9600,328.49; 10200,328.49; 10800,328.49; 11400,
        328.5; 12000,328.5; 12600,328.5; 13200,328.51; 13800,328.51; 14400,328.51;
        15000,328.51; 15600,328.51; 16200,328.52; 16800,328.52; 17400,328.52; 18000,
        328.52; 18600,328.53; 19200,328.53; 19800,328.53; 20400,328.53; 21000,328.53;
        21600,328.53; 22200,328.53; 22800,328.52; 23400,328.52; 24000,328.52; 24600,
        328.52; 25200,328.52; 25800,328.74; 26400,328.81; 27000,328.82; 27600,328.83;
        28200,328.82; 28800,328.81; 29400,328.65; 30000,328.48; 30600,328.41; 31200,
        328.38; 31800,328.36; 32400,328.35; 33000,328.34; 33600,328.33; 34200,328.33;
        34800,328.32; 35400,328.31; 36000,328.3; 36600,328.29; 37200,328.28; 37800,
        328.28; 38400,328.27; 39000,328.26; 39600,328.25; 40200,328.24; 40800,328.24;
        41400,328.23; 42000,328.22; 42600,328.21; 43200,328.21; 43800,328.21; 44400,
        328.2; 45000,328.2; 45600,328.2; 46200,328.19; 46800,328.18; 47400,328.17;
        48000,328.16; 48600,328.16; 49200,328.15; 49800,328.15; 50400,328.15; 51000,
        328.15; 51600,328.15; 52200,328.15; 52800,328.16; 53400,328.16; 54000,328.16;
        54600,328.16; 55200,328.16; 55800,328.16; 56400,328.16; 57000,328.16; 57600,
        328.16; 58200,328.16; 58800,328.16; 59400,328.16; 60000,328.17; 60600,328.17;
        61200,328.17; 61800,328.17; 62400,328.17; 63000,328.17; 63600,328.17; 64200,
        328.17; 64800,328.17; 65400,328.17; 66000,328.17; 66600,328.18; 67200,328.17;
        67800,328.16; 68400,328.16; 69000,328.18; 69600,328.2; 70200,328.21; 70800,
        328.22; 71400,328.23; 72000,328.24; 72600,328.24; 73200,328.25; 73800,328.25;
        74400,328.26; 75000,328.26; 75600,328.27; 76200,328.27; 76800,328.28; 77400,
        328.28; 78000,328.28; 78600,328.29; 79200,328.29; 79800,328.3; 80400,328.3;
        81000,328.3; 81600,328.3; 82200,328.31; 82800,328.31; 83400,328.31; 84000,
        328.32; 84600,328.32; 85200,328.32; 85800,328.32; 86400,286.39; 87000,286.39;
        87600,286.39; 88200,286.38; 88800,286.38; 89400,286.38; 90000,286.38; 90600,
        286.38; 91200,286.38; 91800,286.37; 92400,286.37; 93000,286.37; 93600,286.37;
        94200,286.37; 94800,286.37; 95400,286.36; 96000,286.36; 96600,286.36; 97200,
        286.36; 97800,286.36; 98400,286.36; 99000,286.36; 99600,286.35; 100200,286.35;
        100800,286.35; 101400,286.35; 102000,286.35; 102600,286.35; 103200,286.35;
        103800,286.35; 104400,286.35; 105000,286.35; 105600,286.34; 106200,286.34;
        106800,286.34; 107400,286.34; 108000,286.34; 108600,286.34; 109200,286.34;
        109800,286.34; 110400,286.34; 111000,286.34; 111600,287.27; 112200,287.8;
        112800,287.93; 113400,287.97; 114000,287.89; 114600,287.83; 115200,287.81;
        115800,287.82; 116400,287.82; 117000,287.83; 117600,287.83; 118200,287.84;
        118800,287.85; 119400,287.86; 120000,287.87; 120600,287.88; 121200,287.89;
        121800,287.9; 122400,287.91; 123000,287.92; 123600,287.93; 124200,287.94;
        124800,287.95; 125400,287.96; 126000,287.97; 126600,287.98; 127200,287.99;
        127800,288.01; 128400,288.02; 129000,288.03; 129600,288.04; 130200,288.05;
        130800,288.06; 131400,288.07; 132000,288.08; 132600,288.09; 133200,288.1;
        133800,288.11; 134400,288.12; 135000,288.13; 135600,288.14; 136200,288.15;
        136800,288.16; 137400,288.17; 138000,288.18; 138600,288.19; 139200,288.19;
        139800,288.2; 140400,288.21; 141000,288.22; 141600,288.23; 142200,288.24;
        142800,288.25; 143400,288.26; 144000,288.26; 144600,288.27; 145200,288.28;
        145800,288.29; 146400,288.29; 147000,288.3; 147600,287.82; 148200,287.24;
        148800,287; 149400,286.88; 150000,286.81; 150600,286.76; 151200,286.73;
        151800,286.7; 152400,286.68; 153000,286.66; 153600,286.64; 154200,286.62;
        154800,286.61; 155400,286.6; 156000,286.58; 156600,286.57; 157200,286.56;
        157800,286.55; 158400,286.55; 159000,286.54; 159600,286.53; 160200,286.52;
        160800,286.52; 161400,286.51; 162000,286.51; 162600,286.5; 163200,286.49;
        163800,286.49; 164400,286.48; 165000,286.48; 165600,286.48; 166200,286.47;
        166800,286.47; 167400,286.46; 168000,286.46; 168600,286.46; 169200,286.45;
        169800,286.45; 170400,286.45; 171000,286.44; 171600,286.44; 172200,286.44])
        "EnergyPlus: leaving water temperature at the condenser"
         annotation (Placement(transformation(extent={{-20,20},{0,40}})));
      Modelica.Blocks.Sources.TimeTable QEvaEP(table=[0,-2686.5; 600,-2686.5; 1200,
        -2727.3; 1800,-2756.7; 2400,-2783.6; 3000,-2811.7; 3600,-2839.5; 4200,-2863.3;
        4800,-2886.4; 5400,-2918; 6000,-2945.3; 6600,-2974.5; 7200,-3005.8; 7800,
        -3030.4; 8400,-3057.7; 9000,-3088.9; 9600,-3116; 10200,-3143.5; 10800,-3178.1;
        11400,-3201.4; 12000,-3225.3; 12600,-3254; 13200,-3281.3; 13800,-3303.3;
        14400,-3325.3; 15000,-3349.6; 15600,-3371.1; 16200,-3396.2; 16800,-3420.7;
        17400,-3438.6; 18000,-3452.3; 18600,-3475.2; 19200,-3494; 19800,-3500.5;
        20400,-3511.6; 21000,-3521.8; 21600,-3535.8; 22200,-3499.7; 22800,-3459.1;
        23400,-3442.5; 24000,-3438.6; 24600,-3435.4; 25200,-3440.4; 25800,-5454.2;
        26400,-6138.6; 27000,-6208.7; 27600,-6332.9; 28200,-6191.6; 28800,-6086.8;
        29400,-4610.2; 30000,-3032.2; 30600,-2403; 31200,-2121.2; 31800,-1962.1;
        32400,0; 33000,0; 33600,0; 34200,0; 34800,0; 35400,0; 36000,0; 36600,0;
        37200,0; 37800,0; 38400,0; 39000,0; 39600,0; 40200,0; 40800,0; 41400,0;
        42000,0; 42600,0; 43200,0; 43800,0; 44400,0; 45000,0; 45600,0; 46200,0;
        46800,0; 47400,0; 48000,0; 48600,0; 49200,0; 49800,0; 50400,0; 51000,0;
        51600,0; 52200,0; 52800,0; 53400,0; 54000,0; 54600,0; 55200,0; 55800,0;
        56400,0; 57000,0; 57600,0; 58200,0; 58800,0; 59400,0; 60000,0; 60600,0;
        61200,0; 61800,0; 62400,0; 63000,0; 63600,0; 64200,0; 64800,0; 65400,0;
        66000,0; 66600,0; 67200,0; 67800,0; 68400,0; 69000,0; 69600,0; 70200,0;
        70800,0; 71400,0; 72000,0; 72600,0; 73200,0; 73800,0; 74400,0; 75000,0;
        75600,0; 76200,0; 76800,0; 77400,0; 78000,0; 78600,0; 79200,0; 79800,0;
        80400,0; 81000,0; 81600,0; 82200,0; 82800,0; 83400,0; 84000,0; 84600,0;
        85200,0; 85800,0; 86400,0; 87000,0; 87600,0; 88200,0; 88800,0; 89400,0;
        90000,0; 90600,0; 91200,0; 91800,0; 92400,0; 93000,0; 93600,0; 94200,0;
        94800,0; 95400,0; 96000,0; 96600,0; 97200,0; 97800,0; 98400,0; 99000,0;
        99600,0; 100200,0; 100800,0; 101400,0; 102000,0; 102600,0; 103200,0; 103800,
        0; 104400,0; 105000,0; 105600,0; 106200,0; 106800,0; 107400,0; 108000,0;
        108600,0; 109200,0; 109800,0; 110400,0; 111000,0; 111600,-6466.8; 112200,
        -10404.3; 112800,-11455.8; 113400,-11660.3; 114000,-10895.5; 114600,-10288.7;
        115200,-9924.6; 115800,-9744.8; 116400,-9629.4; 117000,-9538.5; 117600,-9474.3;
        118200,-9434.9; 118800,-9412.3; 119400,-9400.2; 120000,-9396.9; 120600,-9400.9;
        121200,-9411.6; 121800,-9427.9; 122400,-9448; 123000,-9471.7; 123600,-9499;
        124200,-9529.2; 124800,-9562.3; 125400,-9597.7; 126000,-9635.4; 126600,-9675.2;
        127200,-9716.7; 127800,-9759.8; 128400,-9804; 129000,-9848.9; 129600,-9894;
        130200,-9938.7; 130800,-9982.5; 131400,-10024.8; 132000,-10065.4; 132600,
        -10104.1; 133200,-10141.1; 133800,-10176.6; 134400,-10210.9; 135000,-10244.5;
        135600,-10277.6; 136200,-10310.7; 136800,-10344; 137400,-10377.7; 138000,
        -10411.9; 138600,-10446.7; 139200,-10482.1; 139800,-10518; 140400,-10554.2;
        141000,-10590.5; 141600,-10626.7; 142200,-10662.5; 142800,-10697.7; 143400,
        -10731.8; 144000,-10764.5; 144600,-10795.4; 145200,-10824.1; 145800,-10850.2;
        146400,-10873.6; 147000,-10894.3; 147600,-7538.2; 148200,0; 148800,0; 149400,
        0; 150000,0; 150600,0; 151200,0; 151800,0; 152400,0; 153000,0; 153600,0;
        154200,0; 154800,0; 155400,0; 156000,0; 156600,0; 157200,0; 157800,0; 158400,
        0; 159000,0; 159600,0; 160200,0; 160800,0; 161400,0; 162000,0; 162600,0;
        163200,0; 163800,0; 164400,0; 165000,0; 165600,0; 166200,0; 166800,0; 167400,
        0; 168000,0; 168600,0; 169200,0; 169800,0; 170400,0; 171000,0; 171600,0;
        172200,0])
        "EnergyPlus results: heat flow at the evaporator"
         annotation (Placement(transformation(extent={{-100,-54},{-80,-34}})));
      Modelica.Blocks.Sources.TimeTable QConEP(table=[0,4103.3; 600,4103.3; 1200,
        4165.6; 1800,4210.3; 2400,4251.3; 3000,4294.1; 3600,4336.6; 4200,4372.8;
        4800,4408; 5400,4456.3; 6000,4497.9; 6600,4542.3; 7200,4590.1; 7800,4627.5;
        8400,4669.1; 9000,4716.7; 9600,4758; 10200,4800; 10800,4852.6; 11400,4888.1;
        12000,4924.6; 12600,4968.4; 13200,5010; 13800,5043.5; 14400,5077; 15000,
        5114.1; 15600,5146.8; 16200,5185.2; 16800,5222.4; 17400,5249.7; 18000,5270.6;
        18600,5305.6; 19200,5334.2; 19800,5344.1; 20400,5361.1; 21000,5376.6; 21600,
        5397.9; 22200,5343.1; 22800,5281.2; 23400,5256.1; 24000,5250.1; 24600,5245.3;
        25200,5252.9; 25800,8314.9; 26400,9352.8; 27000,9458.9; 27600,9647.6; 28200,
        9433.9; 28800,9275.7; 29400,7033.6; 30000,4631.9; 30600,3673; 31200,3243.2;
        31800,3000.3; 32400,0; 33000,0; 33600,0; 34200,0; 34800,0; 35400,0; 36000,
        0; 36600,0; 37200,0; 37800,0; 38400,0; 39000,0; 39600,0; 40200,0; 40800,
        0; 41400,0; 42000,0; 42600,0; 43200,0; 43800,0; 44400,0; 45000,0; 45600,
        0; 46200,0; 46800,0; 47400,0; 48000,0; 48600,0; 49200,0; 49800,0; 50400,
        0; 51000,0; 51600,0; 52200,0; 52800,0; 53400,0; 54000,0; 54600,0; 55200,
        0; 55800,0; 56400,0; 57000,0; 57600,0; 58200,0; 58800,0; 59400,0; 60000,
        0; 60600,0; 61200,0; 61800,0; 62400,0; 63000,0; 63600,0; 64200,0; 64800,
        0; 65400,0; 66000,0; 66600,0; 67200,0; 67800,0; 68400,0; 69000,0; 69600,
        0; 70200,0; 70800,0; 71400,0; 72000,0; 72600,0; 73200,0; 73800,0; 74400,
        0; 75000,0; 75600,0; 76200,0; 76800,0; 77400,0; 78000,0; 78600,0; 79200,
        0; 79800,0; 80400,0; 81000,0; 81600,0; 82200,0; 82800,0; 83400,0; 84000,
        0; 84600,0; 85200,0; 85800,0; 86400,0; 87000,0; 87600,0; 88200,0; 88800,
        0; 89400,0; 90000,0; 90600,0; 91200,0; 91800,0; 92400,0; 93000,0; 93600,
        0; 94200,0; 94800,0; 95400,0; 96000,0; 96600,0; 97200,0; 97800,0; 98400,
        0; 99000,0; 99600,0; 100200,0; 100800,0; 101400,0; 102000,0; 102600,0; 103200,
        0; 103800,0; 104400,0; 105000,0; 105600,0; 106200,0; 106800,0; 107400,0;
        108000,0; 108600,0; 109200,0; 109800,0; 110400,0; 111000,0; 111600,7535.3;
        112200,12115.3; 112800,13336.1; 113400,13574.5; 114000,12687.3; 114600,11983.9;
        115200,11562.5; 115800,11355.2; 116400,11222.3; 117000,11117.7; 117600,11043.8;
        118200,10998.8; 118800,10973.1; 119400,10959.7; 120000,10956.4; 120600,10961.5;
        121200,10974.6; 121800,10993.9; 122400,11017.7; 123000,11045.8; 123600,11077.9;
        124200,11113.5; 124800,11152.3; 125400,11194; 126000,11238.2; 126600,11284.8;
        127200,11333.5; 127800,11384; 128400,11435.9; 129000,11488.5; 129600,11541.3;
        130200,11593.7; 130800,11644.9; 131400,11694.5; 132000,11742.1; 132600,11787.5;
        133200,11830.9; 133800,11872.5; 134400,11912.8; 135000,11952.1; 135600,11991;
        136200,12029.8; 136800,12068.9; 137400,12108.4; 138000,12148.5; 138600,12189.3;
        139200,12230.8; 139800,12272.8; 140400,12315.2; 141000,12357.8; 141600,12400.2;
        142200,12442.2; 142800,12483.4; 143400,12523.4; 144000,12561.7; 144600,12597.9;
        145200,12631.5; 145800,12662.2; 146400,12689.8; 147000,12714.1; 147600,8801.5;
        148200,0; 148800,0; 149400,0; 150000,0; 150600,0; 151200,0; 151800,0; 152400,
        0; 153000,0; 153600,0; 154200,0; 154800,0; 155400,0; 156000,0; 156600,0;
        157200,0; 157800,0; 158400,0; 159000,0; 159600,0; 160200,0; 160800,0; 161400,
        0; 162000,0; 162600,0; 163200,0; 163800,0; 164400,0; 165000,0; 165600,0;
        166200,0; 166800,0; 167400,0; 168000,0; 168600,0; 169200,0; 169800,0; 170400,
        0; 171000,0; 171600,0; 172200,0])
        "EnergyPlus results: heat flow at the condenser"
        annotation (Placement(transformation(extent={{-84,-90},{-64,-70}})));
      Modelica.Blocks.Sources.TimeTable ComP(table=[0,1416.8; 600,1416.8; 1200,1438.2;
        1800,1453.6; 2400,1467.7; 3000,1482.5; 3600,1497.1; 4200,1509.5; 4800,1521.6;
        5400,1538.2; 6000,1552.5; 6600,1567.8; 7200,1584.2; 7800,1597.1; 8400,1611.4;
        9000,1627.8; 9600,1642; 10200,1656.5; 10800,1674.6; 11400,1686.8; 12000,
        1699.3; 12600,1714.4; 13200,1728.7; 13800,1740.2; 14400,1751.7; 15000,1764.5;
        15600,1775.8; 16200,1788.9; 16800,1801.8; 17400,1811.1; 18000,1818.3; 18600,
        1830.4; 19200,1840.2; 19800,1843.6; 20400,1849.5; 21000,1854.8; 21600,1862.2;
        22200,1843.4; 22800,1822.2; 23400,1813.6; 24000,1811.5; 24600,1809.9; 25200,
        1812.5; 25800,2860.7; 26400,3214.3; 27000,3250.3; 27600,3314.7; 28200,3242.3;
        28800,3188.8; 29400,2423.4; 30000,1599.8; 30600,1270; 31200,1122; 31800,
        1038.2; 32400,983.6; 33000,936.9; 33600,897.2; 34200,856.7; 34800,813.7;
        35400,775.8; 36000,738.5; 36600,695.6; 37200,654.8; 37800,614.7; 38400,574.2;
        39000,535.8; 39600,494.8; 40200,453.3; 40800,416; 41400,379.9; 42000,348.4;
        42600,313.4; 43200,277.5; 43800,272.2; 44400,267.6; 45000,247.1; 45600,221.4;
        46200,188.1; 46800,155.8; 47400,114.6; 48000,72.4; 48600,37; 49200,10.2;
        49800,0; 50400,0; 51000,0; 51600,0; 52200,0; 52800,0; 53400,0; 54000,0;
        54600,0; 55200,0; 55800,0; 56400,0; 57000,0; 57600,0; 58200,0; 58800,0;
        59400,0; 60000,0; 60600,0; 61200,0; 61800,0; 62400,0; 63000,0; 63600,0;
        64200,0; 64800,0; 65400,0; 66000,0; 66600,0; 67200,0; 67800,0; 68400,58.5;
        69000,159.9; 69600,244.4; 70200,308.5; 70800,355.8; 71400,391.3; 72000,424;
        72600,454.3; 73200,483.5; 73800,509.8; 74400,534.7; 75000,554.9; 75600,575;
        76200,597.9; 76800,617.3; 77400,639.7; 78000,656.2; 78600,674; 79200,691.7;
        79800,708.9; 80400,724.1; 81000,740.6; 81600,755.3; 82200,768.7; 82800,783;
        83400,798; 84000,810.2; 84600,823.3; 85200,834.6; 85800,845.1; 86400,3.6;
        87000,3.6; 87600,3.6; 88200,3.6; 88800,3.6; 89400,3.6; 90000,3.6; 90600,
        3.6; 91200,3.6; 91800,3.6; 92400,3.6; 93000,3.6; 93600,3.6; 94200,3.6; 94800,
        3.6; 95400,3.6; 96000,3.6; 96600,3.6; 97200,3.6; 97800,3.6; 98400,3.6; 99000,
        3.6; 99600,3.6; 100200,3.6; 100800,3.6; 101400,3.6; 102000,3.6; 102600,3.6;
        103200,3.6; 103800,3.6; 104400,3.6; 105000,3.6; 105600,3.6; 106200,3.6;
        106800,3.6; 107400,3.6; 108000,3.6; 108600,3.6; 109200,3.6; 109800,3.6;
        110400,3.6; 111000,3.6; 111600,1068.5; 112200,1711.1; 112800,1880.2; 113400,
        1914.2; 114000,1791.9; 114600,1695.2; 115200,1637.9; 115800,1610.4; 116400,
        1592.9; 117000,1579.2; 117600,1569.5; 118200,1563.9; 118800,1560.8; 119400,
        1559.5; 120000,1559.5; 120600,1560.7; 121200,1562.9; 121800,1566; 122400,
        1569.7; 123000,1574; 123600,1578.9; 124200,1584.3; 124800,1590.1; 125400,
        1596.3; 126000,1602.8; 126600,1609.7; 127200,1616.9; 127800,1624.3; 128400,
        1631.9; 129000,1639.6; 129600,1647.3; 130200,1655; 130800,1662.5; 131400,
        1669.7; 132000,1676.7; 132600,1683.4; 133200,1689.8; 133800,1695.9; 134400,
        1701.8; 135000,1707.6; 135600,1713.4; 136200,1719.1; 136800,1724.8; 137400,
        1730.7; 138000,1736.6; 138600,1742.6; 139200,1748.6; 139800,1754.8; 140400,
        1761; 141000,1767.3; 141600,1773.5; 142200,1779.6; 142800,1785.7; 143400,
        1791.5; 144000,1797.2; 144600,1802.5; 145200,1807.5; 145800,1812; 146400,
        1816.1; 147000,1819.8; 147600,1263.3; 148200,577.5; 148800,264.4; 149400,
        121.9; 150000,57.2; 150600,27.9; 151200,14.6; 151800,8.6; 152400,5.9; 153000,
        4.7; 153600,4.1; 154200,3.9; 154800,3.8; 155400,3.7; 156000,3.7; 156600,
        3.7; 157200,3.7; 157800,3.7; 158400,3.7; 159000,3.7; 159600,3.7; 160200,
        3.6; 160800,3.6; 161400,3.6; 162000,3.6; 162600,3.6; 163200,3.6; 163800,
        3.6; 164400,3.6; 165000,3.6; 165600,3.6; 166200,3.6; 166800,3.6; 167400,
        3.6; 168000,3.6; 168600,3.6; 169200,3.6; 169800,3.6; 170400,3.6; 171000,
        3.6; 171600,3.6; 172200,3.6])
        "EnergyPlus results: compressor power"
         annotation (Placement(transformation(extent={{-110,-90},{-90,-70}})));
      Modelica.Blocks.Sources.TimeTable TEvaSet(
    table=[0,285.765; 600,285.765; 1200,285.76; 1800,285.756; 2400,285.752; 3000,
        285.749; 3600,285.745; 4200,285.742; 4800,285.738; 5400,285.734; 6000,285.73;
        6600,285.726; 7200,285.722; 7800,285.718; 8400,285.714; 9000,285.71; 9600,
        285.706; 10200,285.702; 10800,285.697; 11400,285.694; 12000,285.69; 12600,
        285.686; 13200,285.682; 13800,285.679; 14400,285.675; 15000,285.671; 15600,
        285.668; 16200,285.664; 16800,285.661; 17400,285.658; 18000,285.655; 18600,
        285.652; 19200,285.649; 19800,285.647; 20400,285.645; 21000,285.643; 21600,
        285.64; 22200,285.644; 22800,285.648; 23400,285.65; 24000,285.649; 24600,
        285.649; 25200,285.648; 25800,285.397; 26400,285.322; 27000,285.316; 27600,
        285.297; 28200,285.308; 28800,285.313; 29400,285.491; 30000,285.679; 30600,
        285.746; 31200,285.774; 31800,285.792; 32400,285.808; 33000,285.824; 33600,
        285.839; 34200,285.853; 34800,285.868; 35400,285.881; 36000,285.894; 36600,
        285.908; 37200,285.921; 37800,285.933; 38400,285.946; 39000,285.958; 39600,
        285.97; 40200,285.983; 40800,285.994; 41400,286.005; 42000,286.015; 42600,
        286.026; 43200,286.037; 43800,286.041; 44400,286.045; 45000,286.052; 45600,
        286.061; 46200,286.071; 46800,286.081; 47400,286.093; 48000,286.105; 48600,
        286.115; 49200,286.124; 49800,286.128; 50400,286.13; 51000,286.133; 51600,
        286.135; 52200,286.137; 52800,286.14; 53400,286.142; 54000,286.143; 54600,
        286.145; 55200,286.147; 55800,286.148; 56400,286.15; 57000,286.151; 57600,
        286.153; 58200,286.154; 58800,286.155; 59400,286.156; 60000,286.158; 60600,
        286.159; 61200,286.16; 61800,286.161; 62400,286.162; 63000,286.163; 63600,
        286.164; 64200,286.165; 64800,286.166; 65400,286.167; 66000,286.168; 66600,
        286.168; 67200,286.169; 67800,286.17; 68400,286.157; 69000,286.134; 69600,
        286.115; 70200,286.101; 70800,286.091; 71400,286.083; 72000,286.075; 72600,
        286.067; 73200,286.059; 73800,286.052; 74400,286.046; 75000,286.04; 75600,
        286.035; 76200,286.029; 76800,286.023; 77400,286.017; 78000,286.012; 78600,
        286.007; 79200,286.002; 79800,285.997; 80400,285.993; 81000,285.988; 81600,
        285.984; 82200,285.98; 82800,285.976; 83400,285.972; 84000,285.968; 84600,
        285.964; 85200,285.961; 85800,285.957; 86400,279.819; 87000,279.819; 87600,
        279.819; 88200,279.819; 88800,279.819; 89400,279.819; 90000,279.819; 90600,
        279.819; 91200,279.819; 91800,279.819; 92400,279.819; 93000,279.819; 93600,
        279.819; 94200,279.819; 94800,279.819; 95400,279.819; 96000,279.819; 96600,
        279.819; 97200,279.819; 97800,279.819; 98400,279.819; 99000,279.819; 99600,
        279.819; 100200,279.819; 100800,279.819; 101400,279.819; 102000,279.819;
        102600,279.819; 103200,279.819; 103800,279.819; 104400,279.819; 105000,279.819;
        105600,279.819; 106200,279.819; 106800,279.819; 107400,279.819; 108000,279.819;
        108600,279.819; 109200,279.819; 109800,279.819; 110400,279.819; 111000,279.819;
        111600,279.471; 112200,279.259; 112800,279.203; 113400,279.191; 114000,279.233;
        114600,279.265; 115200,279.285; 115800,279.295; 116400,279.301; 117000,279.306;
        117600,279.309; 118200,279.311; 118800,279.313; 119400,279.313; 120000,279.314;
        120600,279.313; 121200,279.313; 121800,279.312; 122400,279.311; 123000,279.309;
        123600,279.308; 124200,279.306; 124800,279.305; 125400,279.303; 126000,279.301;
        126600,279.299; 127200,279.296; 127800,279.294; 128400,279.292; 129000,279.289;
        129600,279.287; 130200,279.284; 130800,279.282; 131400,279.28; 132000,279.277;
        132600,279.275; 133200,279.273; 133800,279.271; 134400,279.27; 135000,279.268;
        135600,279.266; 136200,279.264; 136800,279.262; 137400,279.261; 138000,279.259;
        138600,279.257; 139200,279.255; 139800,279.253; 140400,279.251; 141000,279.249;
        141600,279.247; 142200,279.245; 142800,279.243; 143400,279.242; 144000,279.24;
        144600,279.238; 145200,279.237; 145800,279.235; 146400,279.234; 147000,279.233;
        147600,279.414; 148200,279.635; 148800,279.736; 149400,279.781; 150000,279.802;
        150600,279.811; 151200,279.815; 151800,279.817; 152400,279.818; 153000,279.819;
        153600,279.819; 154200,279.819; 154800,279.819; 155400,279.819; 156000,279.819;
        156600,279.819; 157200,279.819; 157800,279.819; 158400,279.819; 159000,279.819;
        159600,279.819; 160200,279.819; 160800,279.819; 161400,279.819; 162000,279.819;
        162600,279.819; 163200,279.819; 163800,279.819; 164400,279.819; 165000,279.819;
        165600,279.819; 166200,279.819; 166800,279.819; 167400,279.819; 168000,279.819;
        168600,279.819; 169200,279.819; 169800,279.819; 170400,279.819; 171000,279.819;
        171600,279.819; 172200,279.819],
        offset=0,
        startTime=0)
        "EnergyPlus: leaving water temperature at the evaporator"
        annotation (Placement(transformation(extent={{-20,-40},{0,-20}})));
      Modelica.Blocks.Math.RealToInteger reaToInt
       annotation (Placement(transformation(extent={{-60,-10},{-40,10}})));
equation
  connect(heaPum.port_a1, conPum.ports[1])
  annotation (Line(points={{35.3333,6},{24,6},{24,83},{-28,83}},color={0,127,255}));
  connect(TEvaEnt.y, evaPum.T_in)
  annotation (Line(points={{81,-80},{112,-80},{112,-44.8},{102.4,-44.8}},color={0,0,127}));
  connect(evaPum.ports[1], heaPum.port_a2)
  annotation (Line(points={{76,-40},{58,-40},{58,-6},{52,-6}}, color={0,127,255}));
  connect(res1.port_a, heaPum.port_b1)
  annotation (Line(points={{64,84},{58,84},{58,6},{52,6}}, color={0,127,255}));
  connect(TConEnt.y, conPum.T_in)
  annotation (Line(points={{-89,78},{-60,78},{-60,77.8},{-56.6,77.8}},color={0,0,127}));
  connect(TConSet.y, heaPum.TConSet)
  annotation (Line(points={{1,30},{20,30},{20,9},{34.1667,9}},color={0,0,127}));
  connect(res1.port_b, heaVol.ports[1])
  annotation (Line(points={{84,84},{98,84}}, color={0,127,255}));
  connect(heaPumMod.y, reaToInt.u)
  annotation (Line(points={{-79,0},{-62,0}},color={0,0,127}));
  connect(heaPum.uMod, reaToInt.y)
  annotation (Line(points={{34.1667,0},{-39,0}},color={255,127,0}));
  connect(heaPum.port_b2, res2.port_a)
  annotation (Line(points={{35.3333,-6},{26,-6},{26,-82},{10,-82}},
                color={0,127,255}));
  connect(res2.port_b, cooVol.ports[1])
  annotation (Line(points={{-10,-82},{-28,-82}}, color={0,127,255}));
  connect(heaPum.TEvaSet, TEvaSet.y)
  annotation (Line(points={{34.1667,-9},{18,-9},{18,-30},{1,-30}},
                color={0,0,127}));
  annotation (Icon(coordinateSystem(preserveAspectRatio=false, extent={{-120,-100},
            {120,100}}),
               graphics={
        Ellipse(lineColor = {75,138,73},
                fillColor={255,255,255},
                fillPattern = FillPattern.Solid,
                extent={{-100,-102},{100,98}}),
        Polygon(lineColor = {0,0,255},
                fillColor = {75,138,73},
                pattern = LinePattern.None,
                fillPattern = FillPattern.Solid,
                points={{-30,64},{70,4},{-30,-56},{-30,64}})}),
        Diagram(
        coordinateSystem(preserveAspectRatio=false, extent={{-120,-100},{120,100}})),
                 __Dymola_Commands(file= "modelica://Buildings/Resources/Scripts/Dymola/Fluid/HeatPumps/Validation/EquationFitWaterToWater_EnergyPlus.mos"
        "Simulate and plot"),
    experiment(
      Tolerance=1e-6, StopTime=172800),
Documentation(info="<html>
  <p>
  This model validates the model
  <a href=\"Buildings.Fluid.HeatPumps.EquationFitWaterToWater\">
  Buildings.Fluid.HeatPumps.EquationFitWaterToWater</a>.
  A slight difference in results between the condenser heating capacity <code><i>Q<sub>Con_flow</sub></i> and </code><code> <i>Q<sub>ConEP</sub></i></code>
  and the evaporator cooling capacity <code><i>Q<sub>Eva_flow</sub></i></code>
  and <code><i>Q<sub>EvaEP</sub></i></code> is noticed. This difference occurs only within the source side i.e
  condenser in the cooling mode and evaporator in the heating mode.
  </p>
  <p>
  This is due to the fact that Energyplus model switch between two values of nominal flow rate for the evaporator
  and the condenser depending on the operational mode. Hence, in case of <code>uMod</code>=-1 cooling mode, the evaporator implements
  a nominal flow rate value differs from the evaporator nominal flow rate in case of <code>uMod</code>=1 heating mode. likewise, for
  the condenser, two nominal flow rate values are implemented.
  </P>
  <P>
  While the heatpump model considers the condenser and evaporator nominal water mass flow rate
  as only two parameters during the simulation interval.
  </p>
  <p>
  The EnergyPlus results were generated using the example file <code>GSHPSimple-GLHE.idf</code>
  from EnergyPlus 9.1, with a nominal cooling capacity of <i>39890</i> Watts  and nominal heating capacity of <i>39040</i> Watts.
  </p>
  </html>", revisions="<html>
  <ul>
  <li>
  May 3, 2019, by Hagar Elarga:<br/>
  First implementation.
  </li>
  </ul>
</html>"));
end EquationFitWaterToWater_EnergyPlus;
